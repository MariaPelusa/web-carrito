<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrito - Pelusa Orbital</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&family=Permanent+Marker&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="logo">
            <h1><a href="index.html">Pelusa Orbital</a></h1>
        </div>
        <nav>
            <ul>
                <li><a href="empresa.html">Empresa</a></li>
                <li><a href="particulares.html">Particulares</a></li>
                <li><a href="tienda.html">Tienda</a></li>
                <li><a href="carrito.html" class="active">Carrito (<span id="cart-count">0</span>)</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="intro">
            <h2>Tu Carrito</h2>
        </section>

        <div class="cart-container">
            <div id="cart-items" class="cart-items">
                <!-- Cart items will be injected here by JS -->
                <p class="empty-cart-msg">Tu carrito está vacío.</p>
            </div>

            <div id="cart-summary" class="cart-summary" style="display: none;">
                <h3>Resumen del Pedido</h3>
                <div class="summary-row">
                    <span>Subtotal:</span>
                    <span id="subtotal-price">0.00€</span>
                </div>
                <div class="summary-row">
                    <span>Envío:</span>
                    <span>5.00€</span>
                </div>
                <div class="summary-row total">
                    <span>Total:</span>
                    <span id="total-price">0.00€</span>
                </div>
                <button id="checkout-btn" class="btn-primary full-width">Confirmar Envío</button>
            </div>
        </div>

        <!-- Checkout Form Section (Hidden initially) -->
        <section id="checkout-section" class="checkout-section" style="display: none;">
            <h3>Datos de Envío y Pago</h3>
            <form id="checkout-form">
                <div class="form-group">
                    <label for="fullname">Nombre Completo *</label>
                    <input type="text" id="fullname" name="fullname" required>
                </div>
                <div class="form-group">
                    <label for="address">Dirección *</label>
                    <input type="text" id="address" name="address" required>
                </div>
                <div class="form-group">
                    <label for="phone">Teléfono *</label>
                    <input type="tel" id="phone" name="phone" required>
                </div>

                <div class="payment-methods">
                    <h4>Método de Pago</h4>
                    <div class="payment-option">
                        <input type="radio" id="paypal" name="payment" value="paypal" checked>
                        <label for="paypal">PayPal</label>
                    </div>
                    <div class="payment-option">
                        <input type="radio" id="card" name="payment" value="card">
                        <label for="card">Tarjeta de Crédito/Débito</label>
                    </div>
                    <div class="payment-option">
                        <input type="radio" id="bizum" name="payment" value="bizum">
                        <label for="bizum">Bizum</label>
                    </div>
                </div>

                <button type="submit" class="btn-primary full-width">Finalizar Compra</button>
            </form>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Pelusa Orbital. Todos los derechos reservados.</p>
        <button onclick="localStorage.clear(); sessionStorage.clear(); window.name=''; location.reload();" style="font-size: 0.7rem; opacity: 0.5; margin-top: 1rem;">Reset Debug</button>
    </footer>

    <script src="script.js"></script>
</body>
</html>